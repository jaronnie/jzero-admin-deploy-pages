import{r as j,a as C,k as V,l as W,d as S,m as O,o as b,b as R,e as p,n as q,u as L,p as F,c as z,w as s,f as e,h as o,$ as a,g as y,t as x,q as P,s as B,v as M,x as A,B as E,y as H,z as Z,A as J,C as Q,D as X,T as Y,E as ee,F as oe,G as ne,H as te,I as se,J as le}from"./index-D2ib0FuK.js";import{u as U,a as I,_ as G,b as T,R as ae}from"./form-DNMjjoZD.js";import{_ as D}from"./Space-DI1sCiak.js";function re(v){const i=j(0),_=C(()=>Math.ceil(i.value/60)),t=C(()=>i.value>0),{pause:l,resume:w}=V(()=>{i.value>0?i.value-=1:l()},{immediate:!1});function f(r=v){i.value=60*r,w()}function n(){i.value=0,l()}return W(()=>{l()}),{count:_,isCounting:t,start:f,stop:n}}const ce={class:"absolute-lt z-1 size-full overflow-hidden"},ie={class:"absolute -right-300px -top-900px lt-sm:-right-100px lt-sm:-top-1170px"},pe={height:"1337",width:"1337"},de={id:"linearGradient-2",x1:"0.79",y1:"0.62",x2:"0.21",y2:"0.86"},ue=["stop-color"],me=["stop-color"],_e={class:"absolute -bottom-400px -left-200px lt-sm:-bottom-760px lt-sm:-left-100px"},fe={height:"896",width:"967.8852157128662"},ge={id:"linearGradient-3",x1:"0.5",y1:"0",x2:"0.5",y2:"1"},he=["stop-color"],we=["stop-color"],ve=S({name:"WaveBg",__name:"wave-bg",props:{themeColor:{}},setup(v){const h=v,i=C(()=>O(h.themeColor,200)),_=C(()=>O(h.themeColor,500));return(t,l)=>(b(),R("div",ce,[p("div",ie,[(b(),R("svg",pe,[p("defs",null,[l[0]||(l[0]=p("path",{id:"path-1",opacity:"1","fill-rule":"evenodd",d:"M1337,668.5 C1337,1037.455193874239 1037.455193874239,1337 668.5,1337 C523.6725684305388,1337 337,1236 370.50000000000006,1094 C434.03835568300906,824.6732385973953 6.906089672974592e-14,892.6277623047779 0,668.5000000000001 C0,299.5448061257611 299.5448061257609,1.1368683772161603e-13 668.4999999999999,0 C1037.455193874239,0 1337,299.544806125761 1337,668.5Z"},null,-1)),p("linearGradient",de,[p("stop",{offset:"0","stop-color":i.value,"stop-opacity":"1"},null,8,ue),p("stop",{offset:"1","stop-color":_.value,"stop-opacity":"1"},null,8,me)])]),l[1]||(l[1]=p("g",{opacity:"1"},[p("use",{"xlink:href":"#path-1",fill:"url(#linearGradient-2)","fill-opacity":"1"})],-1))]))]),p("div",_e,[(b(),R("svg",fe,[p("defs",null,[l[2]||(l[2]=p("path",{id:"path-2",opacity:"1","fill-rule":"evenodd",d:"M896,448 C1142.6325445712241,465.5747656464056 695.2579309733121,896 448,896 C200.74206902668806,896 5.684341886080802e-14,695.2579309733121 0,448.0000000000001 C0,200.74206902668806 200.74206902668791,5.684341886080802e-14 447.99999999999994,0 C695.2579309733121,0 475,418 896,448Z"},null,-1)),p("linearGradient",ge,[p("stop",{offset:"0","stop-color":_.value,"stop-opacity":"1"},null,8,he),p("stop",{offset:"1","stop-color":i.value,"stop-opacity":"1"},null,8,we)])]),l[3]||(l[3]=p("g",{opacity:"1"},[p("use",{"xlink:href":"#path-2",fill:"url(#linearGradient-3)","fill-opacity":"1"})],-1))]))])]))}}),xe={class:"flex-y-center justify-between"},ye={class:"flex-y-center justify-between gap-12px"},Ce=S({name:"PwdLogin",__name:"pwd-login",setup(v){const h=q(),{toggleLoginModule:i}=L(),{formRef:_,validate:t}=U(),l=F({username:"jzero",password:"123456"}),w=C(()=>{const{formRules:n}=I();return{username:n.username,password:n.pwd}});async function f(){await t(),await h.login(l.username,l.password)}return(n,r)=>{const d=M,u=G,m=A,g=E,c=D,$=T;return b(),z($,{ref_key:"formRef",ref:_,model:l,rules:w.value,size:"large","show-label":!1,onKeyup:B(f,["enter"])},{default:s(()=>[e(u,{path:"username"},{default:s(()=>[e(d,{value:l.username,"onUpdate:value":r[0]||(r[0]=k=>l.username=k),placeholder:o(a)("page.login.common.usernamePlaceholder")},null,8,["value","placeholder"])]),_:1}),e(u,{path:"password"},{default:s(()=>[e(d,{value:l.password,"onUpdate:value":r[1]||(r[1]=k=>l.password=k),type:"password","show-password-on":"click",placeholder:o(a)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),e(c,{vertical:"",size:24},{default:s(()=>[p("div",xe,[e(m,null,{default:s(()=>[y(x(o(a)("page.login.pwdLogin.rememberMe")),1)]),_:1}),e(g,{quaternary:"",onClick:r[2]||(r[2]=k=>o(i)("reset-pwd"))},{default:s(()=>[y(x(o(a)("page.login.pwdLogin.forgetPassword")),1)]),_:1})]),e(g,{type:"primary",size:"large",round:"",block:"",loading:o(h).loginLoading,onClick:f},{default:s(()=>[y(x(o(a)("common.confirm")),1)]),_:1},8,["loading"]),p("div",ye,[e(g,{class:"flex-1",block:"",onClick:r[3]||(r[3]=k=>o(i)("code-login"))},{default:s(()=>[y(x(o(a)(o(P)["code-login"])),1)]),_:1}),e(g,{class:"flex-1",block:"",onClick:r[4]||(r[4]=k=>o(i)("register"))},{default:s(()=>[y(x(o(a)(o(P).register)),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])}}});function be(){const{loading:v,startLoading:h,endLoading:i}=H(),{count:_,start:t,stop:l,isCounting:w}=re(10),f=C(()=>{let d=a("page.login.codeLogin.getCode");const u=a("page.login.codeLogin.reGetCode",{time:_.value});return v.value&&(d=""),w.value&&(d=u),d});function n(d){var u,m,g,c;return d.trim()===""?((m=(u=window.$message)==null?void 0:u.error)==null||m.call(u,a("form.phone.required")),!1):ae.test(d)?!0:((c=(g=window.$message)==null?void 0:g.error)==null||c.call(g,a("form.phone.invalid")),!1)}async function r(d){var m,g;!n(d)||v.value||(h(),await new Promise(c=>{setTimeout(c,500)}),(g=(m=window.$message)==null?void 0:m.success)==null||g.call(m,a("page.login.codeLogin.sendCodeSuccess")),t(),i())}return{label:f,start:t,stop:l,isCounting:w,loading:v,getCaptcha:r}}const ke={class:"w-full flex-y-center gap-16px"},Pe=S({name:"CodeLogin",__name:"code-login",setup(v){const{toggleLoginModule:h}=L(),{formRef:i,validate:_}=U(),{label:t,isCounting:l,loading:w,getCaptcha:f}=be(),n=F({phone:"",code:""}),r=C(()=>{const{formRules:u}=I();return{phone:u.phone,code:u.code}});async function d(){var u;await _(),(u=window.$message)==null||u.success(a("page.login.common.validateSuccess"))}return(u,m)=>{const g=M,c=G,$=E,k=D,K=T;return b(),z(K,{ref_key:"formRef",ref:i,model:n,rules:r.value,size:"large","show-label":!1,onKeyup:B(d,["enter"])},{default:s(()=>[e(c,{path:"phone"},{default:s(()=>[e(g,{value:n.phone,"onUpdate:value":m[0]||(m[0]=N=>n.phone=N),placeholder:o(a)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),e(c,{path:"code"},{default:s(()=>[p("div",ke,[e(g,{value:n.code,"onUpdate:value":m[1]||(m[1]=N=>n.code=N),placeholder:o(a)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),e($,{size:"large",disabled:o(l),loading:o(w),onClick:m[2]||(m[2]=N=>o(f)(n.phone))},{default:s(()=>[y(x(o(t)),1)]),_:1},8,["disabled","loading"])])]),_:1}),e(k,{vertical:"",size:18,class:"w-full"},{default:s(()=>[e($,{type:"primary",size:"large",round:"",block:"",onClick:d},{default:s(()=>[y(x(o(a)("common.confirm")),1)]),_:1}),e($,{size:"large",round:"",block:"",onClick:m[3]||(m[3]=N=>o(h)("pwd-login"))},{default:s(()=>[y(x(o(a)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Se=S({name:"Register",__name:"register",setup(v){const{toggleLoginModule:h}=L(),{formRef:i,validate:_}=U(),t=F({username:"",password:"",confirmPassword:""}),l=C(()=>{const{formRules:f,createConfirmPwdRule:n}=I();return{username:f.username,password:f.pwd,confirmPassword:n(t.password)}});async function w(){await _(),Z(t.username,t.password),await h("pwd-login")}return(f,n)=>{const r=M,d=G,u=E,m=D,g=T;return b(),z(g,{ref_key:"formRef",ref:i,model:t,rules:l.value,size:"large","show-label":!1,onKeyup:B(w,["enter"])},{default:s(()=>[e(d,{path:"username"},{default:s(()=>[e(r,{value:t.username,"onUpdate:value":n[0]||(n[0]=c=>t.username=c),placeholder:o(a)("page.login.common.usernamePlaceholder")},null,8,["value","placeholder"])]),_:1}),e(d,{path:"password"},{default:s(()=>[e(r,{value:t.password,"onUpdate:value":n[1]||(n[1]=c=>t.password=c),type:"password","show-password-on":"click",placeholder:o(a)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),e(d,{path:"confirmPassword"},{default:s(()=>[e(r,{value:t.confirmPassword,"onUpdate:value":n[2]||(n[2]=c=>t.confirmPassword=c),type:"password","show-password-on":"click",placeholder:o(a)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),e(m,{vertical:"",size:18,class:"w-full"},{default:s(()=>[e(u,{type:"primary",size:"large",round:"",block:"",onClick:w},{default:s(()=>[y(x(o(a)("common.confirm")),1)]),_:1}),e(u,{size:"large",round:"",block:"",onClick:n[3]||(n[3]=c=>o(h)("pwd-login"))},{default:s(()=>[y(x(o(a)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),$e=S({name:"ResetPwd",__name:"reset-pwd",setup(v){const{toggleLoginModule:h}=L(),{formRef:i,validate:_}=U(),t=F({phone:"",code:"",password:"",confirmPassword:""}),l=C(()=>{const{formRules:f,createConfirmPwdRule:n}=I();return{phone:f.phone,password:f.pwd,confirmPassword:n(t.password)}});async function w(){var f;await _(),(f=window.$message)==null||f.success(a("page.login.common.validateSuccess"))}return(f,n)=>{const r=M,d=G,u=E,m=D,g=T;return b(),z(g,{ref_key:"formRef",ref:i,model:t,rules:l.value,size:"large","show-label":!1,onKeyup:B(w,["enter"])},{default:s(()=>[e(d,{path:"phone"},{default:s(()=>[e(r,{value:t.phone,"onUpdate:value":n[0]||(n[0]=c=>t.phone=c),placeholder:o(a)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),e(d,{path:"code"},{default:s(()=>[e(r,{value:t.code,"onUpdate:value":n[1]||(n[1]=c=>t.code=c),placeholder:o(a)("page.login.common.codePlaceholder")},null,8,["value","placeholder"])]),_:1}),e(d,{path:"password"},{default:s(()=>[e(r,{value:t.password,"onUpdate:value":n[2]||(n[2]=c=>t.password=c),type:"password","show-password-on":"click",placeholder:o(a)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),e(d,{path:"confirmPassword"},{default:s(()=>[e(r,{value:t.confirmPassword,"onUpdate:value":n[3]||(n[3]=c=>t.confirmPassword=c),type:"password","show-password-on":"click",placeholder:o(a)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),e(m,{vertical:"",size:18,class:"w-full"},{default:s(()=>[e(u,{type:"primary",size:"large",round:"",block:"",onClick:w},{default:s(()=>[y(x(o(a)("common.confirm")),1)]),_:1}),e(u,{size:"large",round:"",block:"",onClick:n[4]||(n[4]=c=>o(h)("pwd-login"))},{default:s(()=>[y(x(o(a)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Ne=S({name:"BindWechat",__name:"bind-wechat",setup(v){return(h,i)=>(b(),R("div"))}}),Re={class:"w-400px lt-sm:w-300px"},ze={class:"flex-y-center justify-between"},Le={class:"text-28px text-primary font-500 lt-sm:text-22px"},Fe={class:"i-flex-col"},Be={class:"pt-24px"},Me={class:"text-18px text-primary font-medium"},Ee={class:"pt-24px"},Te=S({name:"login",__name:"index",props:{module:{}},setup(v){const h=v,i=J(),_=Q(),t={"pwd-login":{label:P["pwd-login"],component:Ce},"code-login":{label:P["code-login"],component:Pe},register:{label:P.register,component:Se},"reset-pwd":{label:P["reset-pwd"],component:$e},"bind-wechat":{label:P["bind-wechat"],component:Ne}},l=C(()=>t[h.module||"pwd-login"]),w=C(()=>_.darkMode?O(_.themeColor,600):_.themeColor),f=C(()=>{const n="#ffffff",r=_.darkMode?.5:.2;return X(n,_.themeColor,r)});return(n,r)=>{const d=ve,u=ne,m=te,g=se,c=le;return b(),R("div",{class:"relative size-full flex-center overflow-hidden",style:oe({backgroundColor:f.value})},[e(d,{"theme-color":w.value},null,8,["theme-color"]),e(c,{bordered:!1,class:"relative z-4 w-auto rd-12px"},{default:s(()=>[p("div",Re,[p("header",ze,[e(u,{class:"text-64px text-primary lt-sm:text-48px"}),p("h3",Le,x(o(a)("system.title")),1),p("div",Fe,[e(m,{"theme-schema":o(_).themeScheme,"show-tooltip":!1,class:"text-20px lt-sm:text-18px",onSwitch:o(_).toggleThemeScheme},null,8,["theme-schema","onSwitch"]),e(g,{lang:o(i).locale,"lang-options":o(i).localeOptions,"show-tooltip":!1,onChangeLang:o(i).changeLocale},null,8,["lang","lang-options","onChangeLang"])])]),p("main",Be,[p("h3",Me,x(o(a)(l.value.label)),1),p("div",Ee,[e(Y,{name:o(_).page.animateMode,mode:"out-in",appear:""},{default:s(()=>[(b(),z(ee(l.value.component)))]),_:1},8,["name"])])])])]),_:1})],4)}}});export{Te as default};
