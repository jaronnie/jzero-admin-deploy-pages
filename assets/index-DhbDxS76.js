import{r as V,a as b,k as W,l as q,d as N,m as K,o as P,b as R,e as c,n as A,u as L,p as F,c as z,w as l,f as o,h as e,$ as s,g as C,t as x,q as S,s as B,v as M,x as H,B as U,y as Z,z as J,A as Q,C as X,T as Y,D as ee,E as oe,F as ne,G as te,H as le,I as se}from"./index-DW1cZSVB.js";import{u as E,a as I,_ as G,b as T,R as ae}from"./form-BlBjZ6dR.js";import{_ as D}from"./Space-BaMiG6m_.js";function re(y){const i=V(0),_=b(()=>Math.ceil(i.value/60)),u=b(()=>i.value>0),{pause:a,resume:w}=W(()=>{i.value>0?i.value-=1:a()},{immediate:!1});function g(p=y){i.value=60*p,w()}function n(){i.value=0,a()}return q(()=>{a()}),{count:_,isCounting:u,start:g,stop:n}}const ce={class:"absolute-lt z-1 size-full overflow-hidden"},ie={class:"absolute -right-300px -top-900px lt-sm:-right-100px lt-sm:-top-1170px"},pe={height:"1337",width:"1337"},de={id:"linearGradient-2",x1:"0.79",y1:"0.62",x2:"0.21",y2:"0.86"},ue=["stop-color"],me=["stop-color"],fe={class:"absolute -bottom-400px -left-200px lt-sm:-bottom-760px lt-sm:-left-100px"},_e={height:"896",width:"967.8852157128662"},ge={id:"linearGradient-3",x1:"0.5",y1:"0",x2:"0.5",y2:"1"},he=["stop-color"],we=["stop-color"],ve=N({name:"WaveBg",__name:"wave-bg",props:{themeColor:{}},setup(y){const h=y,i=b(()=>K(h.themeColor,200)),_=b(()=>K(h.themeColor,500));return(u,a)=>(P(),R("div",ce,[c("div",ie,[(P(),R("svg",pe,[c("defs",null,[a[0]||(a[0]=c("path",{id:"path-1",opacity:"1","fill-rule":"evenodd",d:"M1337,668.5 C1337,1037.455193874239 1037.455193874239,1337 668.5,1337 C523.6725684305388,1337 337,1236 370.50000000000006,1094 C434.03835568300906,824.6732385973953 6.906089672974592e-14,892.6277623047779 0,668.5000000000001 C0,299.5448061257611 299.5448061257609,1.1368683772161603e-13 668.4999999999999,0 C1037.455193874239,0 1337,299.544806125761 1337,668.5Z"},null,-1)),c("linearGradient",de,[c("stop",{offset:"0","stop-color":i.value,"stop-opacity":"1"},null,8,ue),c("stop",{offset:"1","stop-color":_.value,"stop-opacity":"1"},null,8,me)])]),a[1]||(a[1]=c("g",{opacity:"1"},[c("use",{"xlink:href":"#path-1",fill:"url(#linearGradient-2)","fill-opacity":"1"})],-1))]))]),c("div",fe,[(P(),R("svg",_e,[c("defs",null,[a[2]||(a[2]=c("path",{id:"path-2",opacity:"1","fill-rule":"evenodd",d:"M896,448 C1142.6325445712241,465.5747656464056 695.2579309733121,896 448,896 C200.74206902668806,896 5.684341886080802e-14,695.2579309733121 0,448.0000000000001 C0,200.74206902668806 200.74206902668791,5.684341886080802e-14 447.99999999999994,0 C695.2579309733121,0 475,418 896,448Z"},null,-1)),c("linearGradient",ge,[c("stop",{offset:"0","stop-color":_.value,"stop-opacity":"1"},null,8,he),c("stop",{offset:"1","stop-color":i.value,"stop-opacity":"1"},null,8,we)])]),a[3]||(a[3]=c("g",{opacity:"1"},[c("use",{"xlink:href":"#path-2",fill:"url(#linearGradient-3)","fill-opacity":"1"})],-1))]))])]))}}),xe={class:"flex-y-center justify-between"},ye={class:"flex-y-center justify-between gap-12px"},Ce=N({name:"PwdLogin",__name:"pwd-login",setup(y){const h=A(),{toggleLoginModule:i}=L(),{formRef:_,validate:u}=E(),a=F({username:"jzero",password:"123456"}),w=b(()=>{const{formRules:n}=I();return{username:n.username,password:n.pwd}});async function g(){await u(),await h.login(a.username,a.password)}return(n,p)=>{const m=M,r=G,t=H,f=U,d=D,$=T;return P(),z($,{ref_key:"formRef",ref:_,model:a,rules:w.value,size:"large","show-label":!1,onKeyup:B(g,["enter"])},{default:l(()=>[o(r,{path:"username"},{default:l(()=>[o(m,{value:a.username,"onUpdate:value":p[0]||(p[0]=k=>a.username=k),placeholder:e(s)("page.login.common.usernamePlaceholder")},null,8,["value","placeholder"])]),_:1}),o(r,{path:"password"},{default:l(()=>[o(m,{value:a.password,"onUpdate:value":p[1]||(p[1]=k=>a.password=k),type:"password","show-password-on":"click",placeholder:e(s)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),o(d,{vertical:"",size:24},{default:l(()=>[c("div",xe,[o(t,null,{default:l(()=>[C(x(e(s)("page.login.pwdLogin.rememberMe")),1)]),_:1}),o(f,{quaternary:"",onClick:p[2]||(p[2]=k=>e(i)("reset-pwd"))},{default:l(()=>[C(x(e(s)("page.login.pwdLogin.forgetPassword")),1)]),_:1})]),o(f,{type:"primary",size:"large",round:"",block:"",loading:e(h).loginLoading,onClick:g},{default:l(()=>[C(x(e(s)("common.confirm")),1)]),_:1},8,["loading"]),c("div",ye,[o(f,{class:"flex-1",block:"",onClick:p[3]||(p[3]=k=>e(i)("code-login"))},{default:l(()=>[C(x(e(s)(e(S)["code-login"])),1)]),_:1}),o(f,{class:"flex-1",block:"",onClick:p[4]||(p[4]=k=>e(i)("register"))},{default:l(()=>[C(x(e(s)(e(S).register)),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])}}});function j(){const{loading:y,startLoading:h,endLoading:i}=Z(),{count:_,start:u,stop:a,isCounting:w}=re(10),g=b(()=>{let m=s("page.login.codeLogin.getCode");const r=s("page.login.codeLogin.reGetCode",{time:_.value});return y.value&&(m=""),w.value&&(m=r),m});function n(m){var r,t,f,d;return m.trim()===""?((t=(r=window.$message)==null?void 0:r.error)==null||t.call(r,s("form.phone.required")),!1):ae.test(m)?!0:((d=(f=window.$message)==null?void 0:f.error)==null||d.call(f,s("form.phone.invalid")),!1)}async function p(m){var t,f;!n(m)||y.value||(h(),await new Promise(d=>{setTimeout(d,500)}),(f=(t=window.$message)==null?void 0:t.success)==null||f.call(t,s("page.login.codeLogin.sendCodeSuccess")),u(),i())}return{label:g,start:u,stop:a,isCounting:w,loading:y,getCaptcha:p}}const be={class:"w-full flex-y-center gap-16px"},ke=N({name:"CodeLogin",__name:"code-login",setup(y){const{toggleLoginModule:h}=L(),{formRef:i,validate:_}=E(),{label:u,isCounting:a,loading:w,getCaptcha:g}=j(),n=F({phone:"",code:""}),p=b(()=>{const{formRules:r}=I();return{phone:r.phone,code:r.code}});async function m(){var r;await _(),(r=window.$message)==null||r.success(s("page.login.common.validateSuccess"))}return(r,t)=>{const f=M,d=G,$=U,k=D,O=T;return P(),z(O,{ref_key:"formRef",ref:i,model:n,rules:p.value,size:"large","show-label":!1,onKeyup:B(m,["enter"])},{default:l(()=>[o(d,{path:"phone"},{default:l(()=>[o(f,{value:n.phone,"onUpdate:value":t[0]||(t[0]=v=>n.phone=v),placeholder:e(s)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),o(d,{path:"code"},{default:l(()=>[c("div",be,[o(f,{value:n.code,"onUpdate:value":t[1]||(t[1]=v=>n.code=v),placeholder:e(s)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),o($,{size:"large",disabled:e(a),loading:e(w),onClick:t[2]||(t[2]=v=>e(g)(n.phone))},{default:l(()=>[C(x(e(u)),1)]),_:1},8,["disabled","loading"])])]),_:1}),o(k,{vertical:"",size:18,class:"w-full"},{default:l(()=>[o($,{type:"primary",size:"large",round:"",block:"",onClick:m},{default:l(()=>[C(x(e(s)("common.confirm")),1)]),_:1}),o($,{size:"large",round:"",block:"",onClick:t[3]||(t[3]=v=>e(h)("pwd-login"))},{default:l(()=>[C(x(e(s)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Pe={class:"w-full flex-y-center gap-16px"},$e=N({name:"Register",__name:"register",setup(y){const{toggleLoginModule:h}=L(),{formRef:i,validate:_}=E(),{label:u,isCounting:a,loading:w,getCaptcha:g}=j(),n=F({phone:"",code:"",password:"",confirmPassword:""}),p=b(()=>{const{formRules:r,createConfirmPwdRule:t}=I();return{phone:r.phone,code:r.code,password:r.pwd,confirmPassword:t(n.password)}});async function m(){var r;await _(),(r=window.$message)==null||r.success(s("page.login.common.validateSuccess"))}return(r,t)=>{const f=M,d=G,$=U,k=D,O=T;return P(),z(O,{ref_key:"formRef",ref:i,model:n,rules:p.value,size:"large","show-label":!1,onKeyup:B(m,["enter"])},{default:l(()=>[o(d,{path:"phone"},{default:l(()=>[o(f,{value:n.phone,"onUpdate:value":t[0]||(t[0]=v=>n.phone=v),placeholder:e(s)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),o(d,{path:"code"},{default:l(()=>[c("div",Pe,[o(f,{value:n.code,"onUpdate:value":t[1]||(t[1]=v=>n.code=v),placeholder:e(s)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),o($,{size:"large",disabled:e(a),loading:e(w),onClick:t[2]||(t[2]=v=>e(g)(n.phone))},{default:l(()=>[C(x(e(u)),1)]),_:1},8,["disabled","loading"])])]),_:1}),o(d,{path:"password"},{default:l(()=>[o(f,{value:n.password,"onUpdate:value":t[3]||(t[3]=v=>n.password=v),type:"password","show-password-on":"click",placeholder:e(s)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),o(d,{path:"confirmPassword"},{default:l(()=>[o(f,{value:n.confirmPassword,"onUpdate:value":t[4]||(t[4]=v=>n.confirmPassword=v),type:"password","show-password-on":"click",placeholder:e(s)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),o(k,{vertical:"",size:18,class:"w-full"},{default:l(()=>[o($,{type:"primary",size:"large",round:"",block:"",onClick:m},{default:l(()=>[C(x(e(s)("common.confirm")),1)]),_:1}),o($,{size:"large",round:"",block:"",onClick:t[5]||(t[5]=v=>e(h)("pwd-login"))},{default:l(()=>[C(x(e(s)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Se=N({name:"ResetPwd",__name:"reset-pwd",setup(y){const{toggleLoginModule:h}=L(),{formRef:i,validate:_}=E(),u=F({phone:"",code:"",password:"",confirmPassword:""}),a=b(()=>{const{formRules:g,createConfirmPwdRule:n}=I();return{phone:g.phone,password:g.pwd,confirmPassword:n(u.password)}});async function w(){var g;await _(),(g=window.$message)==null||g.success(s("page.login.common.validateSuccess"))}return(g,n)=>{const p=M,m=G,r=U,t=D,f=T;return P(),z(f,{ref_key:"formRef",ref:i,model:u,rules:a.value,size:"large","show-label":!1,onKeyup:B(w,["enter"])},{default:l(()=>[o(m,{path:"phone"},{default:l(()=>[o(p,{value:u.phone,"onUpdate:value":n[0]||(n[0]=d=>u.phone=d),placeholder:e(s)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),o(m,{path:"code"},{default:l(()=>[o(p,{value:u.code,"onUpdate:value":n[1]||(n[1]=d=>u.code=d),placeholder:e(s)("page.login.common.codePlaceholder")},null,8,["value","placeholder"])]),_:1}),o(m,{path:"password"},{default:l(()=>[o(p,{value:u.password,"onUpdate:value":n[2]||(n[2]=d=>u.password=d),type:"password","show-password-on":"click",placeholder:e(s)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),o(m,{path:"confirmPassword"},{default:l(()=>[o(p,{value:u.confirmPassword,"onUpdate:value":n[3]||(n[3]=d=>u.confirmPassword=d),type:"password","show-password-on":"click",placeholder:e(s)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),o(t,{vertical:"",size:18,class:"w-full"},{default:l(()=>[o(r,{type:"primary",size:"large",round:"",block:"",onClick:w},{default:l(()=>[C(x(e(s)("common.confirm")),1)]),_:1}),o(r,{size:"large",round:"",block:"",onClick:n[4]||(n[4]=d=>e(h)("pwd-login"))},{default:l(()=>[C(x(e(s)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Ne=N({name:"BindWechat",__name:"bind-wechat",setup(y){return(h,i)=>(P(),R("div"))}}),Re={class:"w-400px lt-sm:w-300px"},ze={class:"flex-y-center justify-between"},Le={class:"text-28px text-primary font-500 lt-sm:text-22px"},Fe={class:"i-flex-col"},Be={class:"pt-24px"},Me={class:"text-18px text-primary font-medium"},Ue={class:"pt-24px"},Te=N({name:"login",__name:"index",props:{module:{}},setup(y){const h=y,i=J(),_=Q(),u={"pwd-login":{label:S["pwd-login"],component:Ce},"code-login":{label:S["code-login"],component:ke},register:{label:S.register,component:$e},"reset-pwd":{label:S["reset-pwd"],component:Se},"bind-wechat":{label:S["bind-wechat"],component:Ne}},a=b(()=>u[h.module||"pwd-login"]),w=b(()=>_.darkMode?K(_.themeColor,600):_.themeColor),g=b(()=>{const n="#ffffff",p=_.darkMode?.5:.2;return X(n,_.themeColor,p)});return(n,p)=>{const m=ve,r=ne,t=te,f=le,d=se;return P(),R("div",{class:"relative size-full flex-center overflow-hidden",style:oe({backgroundColor:g.value})},[o(m,{"theme-color":w.value},null,8,["theme-color"]),o(d,{bordered:!1,class:"relative z-4 w-auto rd-12px"},{default:l(()=>[c("div",Re,[c("header",ze,[o(r,{class:"text-64px text-primary lt-sm:text-48px"}),c("h3",Le,x(e(s)("system.title")),1),c("div",Fe,[o(t,{"theme-schema":e(_).themeScheme,"show-tooltip":!1,class:"text-20px lt-sm:text-18px",onSwitch:e(_).toggleThemeScheme},null,8,["theme-schema","onSwitch"]),o(f,{lang:e(i).locale,"lang-options":e(i).localeOptions,"show-tooltip":!1,onChangeLang:e(i).changeLocale},null,8,["lang","lang-options","onChangeLang"])])]),c("main",Be,[c("h3",Me,x(e(s)(a.value.label)),1),c("div",Ue,[o(Y,{name:e(_).page.animateMode,mode:"out-in",appear:""},{default:l(()=>[(P(),z(ee(a.value.component)))]),_:1},8,["name"])])])])]),_:1})],4)}}});export{Te as default};
